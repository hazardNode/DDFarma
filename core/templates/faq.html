{% extends "base.html" %}

{% block title %}Preguntas Frecuentes - DDFarma{% endblock %}

{% block extra_css %}
    <style>
        /* Enhanced Animation Keyframes */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        @keyframes shine {
            0% { background-position: -100% 0; }
            100% { background-position: 200% 0; }
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Global Page Styles */
        .enhanced-page {
            background: linear-gradient(135deg, #f8fafc 0%, #fafbfc 100%);
            min-height: 100vh;
        }

        /* Enhanced Hero Section */
        .faq-hero {
            position: relative;
            overflow: hidden;
            padding: 6rem 0 4rem;
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.05) 0%, rgba(34, 197, 94, 0.05) 100%);
        }

        .faq-hero::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%233B82F6' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            animation: float 20s ease-in-out infinite;
            z-index: 0;
        }

        .faq-hero::after {
            content: '';
            position: absolute;
            top: 20%;
            right: 10%;
            width: 120px;
            height: 120px;
            background: linear-gradient(45deg, #3b82f6, #22c55e);
            border-radius: 50%;
            filter: blur(50px);
            animation: float 8s ease-in-out infinite reverse;
            z-index: 0;
        }

        .hero-content {
            position: relative;
            z-index: 1;
            animation: fadeInUp 1s ease-out;
            text-align: center;
            max-width: 4xl;
            margin: 0 auto;
        }

        .hero-badge {
            display: inline-flex;
            align-items: center;
            padding: 0.75rem 1.5rem;
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.15) 0%, rgba(59, 130, 246, 0.15) 100%);
            border: 1px solid rgba(34, 197, 94, 0.3);
            border-radius: 9999px;
            color: #059669;
            font-size: 0.875rem;
            font-weight: 600;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(34, 197, 94, 0.1);
            margin-bottom: 2rem;
        }

        .hero-title {
            font-size: 3rem;
            font-weight: 900;
            line-height: 1.1;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, #1e293b 0%, #3b82f6 30%, #22c55e 70%, #7c3aed 100%);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientShift 8s ease infinite;
        }

        .hero-subtitle {
            font-size: 1.25rem;
            color: #64748b;
            line-height: 1.7;
            margin-bottom: 2.5rem;
            animation: fadeInUp 1s ease-out 0.2s both;
        }

        /* Enhanced FAQ Section */
        .faq-section {
            padding: 4rem 0 8rem;
            background: linear-gradient(180deg, rgba(248, 250, 252, 0.5) 0%, rgba(255, 255, 255, 0.8) 100%);
            position: relative;
        }

        .faq-section::before {
            content: '';
            position: absolute;
            top: 20%;
            left: 5%;
            width: 60px;
            height: 60px;
            background: linear-gradient(45deg, #3b82f6, #22c55e);
            border-radius: 50%;
            filter: blur(40px);
            animation: float 10s ease-in-out infinite;
        }

        .faq-section::after {
            content: '';
            position: absolute;
            bottom: 20%;
            right: 5%;
            width: 80px;
            height: 80px;
            background: linear-gradient(45deg, #7c3aed, #3b82f6);
            border-radius: 50%;
            filter: blur(50px);
            animation: float 12s ease-in-out infinite reverse;
        }

        .faq-container {
            max-width: 4xl;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .faq-category {
            margin-bottom: 3rem;
            animation: fadeInUp 0.8s ease-out;
        }

        .faq-category:nth-child(2) { animation-delay: 0.1s; }
        .faq-category:nth-child(3) { animation-delay: 0.2s; }
        .faq-category:nth-child(4) { animation-delay: 0.3s; }

        .category-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, #1e293b 0%, #3b82f6 100%);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientShift 10s ease infinite;
        }

        .category-description {
            color: #64748b;
            margin-bottom: 2rem;
            font-size: 1rem;
        }

        .faq-item {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(226, 232, 240, 0.8);
            border-radius: 1.5rem;
            margin-bottom: 1rem;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .faq-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            border-color: rgba(59, 130, 246, 0.3);
        }

        .faq-question {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1.5rem 2rem;
            cursor: pointer;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.8) 0%, rgba(248, 250, 252, 0.8) 100%);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .faq-question::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.05), transparent);
            transition: left 0.6s ease;
        }

        .faq-question:hover::before {
            left: 100%;
        }

        .faq-question:hover {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.05) 0%, rgba(34, 197, 94, 0.05) 100%);
        }

        .faq-question-text {
            font-size: 1.125rem;
            font-weight: 600;
            color: #1e293b;
            position: relative;
            z-index: 1;
        }

        .faq-arrow {
            width: 1.5rem;
            height: 1.5rem;
            color: #64748b;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            z-index: 1;
        }

        .faq-arrow.rotate {
            transform: rotate(180deg);
            color: #3b82f6;
        }

        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            opacity: 0;
            background: white;
            border-top: 1px solid rgba(226, 232, 240, 0.6);
        }

        .faq-answer.active {
            max-height: 1000px;
            opacity: 1;
            padding: 1.5rem 2rem;
        }

        .faq-answer p {
            color: #64748b;
            line-height: 1.7;
            margin: 0;
        }

        .faq-answer ul {
            color: #64748b;
            line-height: 1.7;
            margin: 1rem 0;
            padding-left: 1.5rem;
        }

        .faq-answer li {
            margin-bottom: 0.5rem;
        }

        /* Contact CTA Section */
        .contact-cta {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.05) 0%, rgba(34, 197, 94, 0.05) 100%);
            padding: 4rem 0;
            margin-top: 4rem;
            border-radius: 2rem;
            position: relative;
            overflow: hidden;
        }

        .contact-cta::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent 0%, #3b82f6 50%, transparent 100%);
            opacity: 0.6;
        }

        .cta-content {
            text-align: center;
            position: relative;
            z-index: 1;
        }

        .cta-title {
            font-size: 2rem;
            font-weight: 800;
            color: #1e293b;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #1e293b 0%, #3b82f6 50%, #22c55e 100%);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientShift 10s ease infinite;
        }

        .cta-subtitle {
            color: #64748b;
            font-size: 1.125rem;
            margin-bottom: 2rem;
            max-width: 36rem;
            margin-left: auto;
            margin-right: auto;
        }

        .cta-button {
            display: inline-flex;
            align-items: center;
            padding: 1rem 2rem;
            background: linear-gradient(135deg, #3b82f6 0%, #22c55e 100%);
            color: white;
            font-weight: 700;
            font-size: 1rem;
            border-radius: 1rem;
            text-decoration: none;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 10px 25px -5px rgba(59, 130, 246, 0.3);
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 20px 40px -10px rgba(59, 130, 246, 0.4);
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .hero-title {
                font-size: 2.5rem;
            }
            .cta-title {
                font-size: 1.75rem;
            }
        }

        @media (max-width: 768px) {
            .faq-hero {
                padding: 4rem 0 3rem;
            }
            .hero-title {
                font-size: 2rem;
            }
            .faq-section {
                padding: 3rem 0 6rem;
            }
            .faq-question {
                padding: 1.25rem 1.5rem;
            }
            .faq-answer.active {
                padding: 1.25rem 1.5rem;
            }
        }

        @media (max-width: 640px) {
            .hero-title {
                font-size: 1.75rem;
            }
            .category-title {
                font-size: 1.25rem;
            }
            .faq-question-text {
                font-size: 1rem;
            }
        }

        /* Page Load Animation */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .animate-on-scroll.in-view {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
{% endblock %}

{% block content %}
<div class="enhanced-page">
    <!-- Enhanced Hero Section -->
    <section class="faq-hero">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="hero-content">
                <div class="hero-badge">
                    <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>
                    </svg>
                    Centro de Ayuda
                </div>

                <h1 class="hero-title">
                    Preguntas Frecuentes
                </h1>

                <p class="hero-subtitle">
                    Encuentra respuestas a las preguntas más comunes sobre nuestros suplementos especializados,
                    procesos de envío, políticas de devolución y más. Si no encuentras lo que buscas,
                    no dudes en contactarnos directamente.
                </p>
            </div>
        </div>
    </section>

    <!-- Enhanced FAQ Section -->
    <section class="faq-section">
        <div class="faq-container max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">

            <!-- Productos y Suplementos -->
            <div class="faq-category animate-on-scroll">
                <h2 class="category-title">Productos y Suplementos</h2>
                <p class="category-description">
                    Información sobre nuestros suplementos especializados para intolerancias alimentarias.
                </p>

                <div class="faq-item">
                    <div class="faq-question">
                        <span class="faq-question-text">¿Qué tipos de suplementos ofrecen para las intolerancias alimentarias?</span>
                        <svg class="faq-arrow" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/>
                        </svg>
                    </div>
                    <div class="faq-answer active">
                        <p>Ofrecemos una amplia gama de suplementos diseñados específicamente para diversas intolerancias alimentarias:</p>
                        <ul>
                            <li><strong>Enzimas digestivas</strong> para la sensibilidad a la lactosa, el gluten y los FODMAP</li>
                            <li><strong>Fórmulas de respuesta a la histamina</strong> para intolerancias histamínicas</li>
                            <li><strong>Mezclas antiinflamatorias</strong> para sensibilidades alimentarias generales</li>
                            <li><strong>Apoyo a la salud intestinal</strong> con probióticos especializados</li>
                            <li><strong>Paquetes nutricionales personalizados</strong> basados en tu perfil específico de intolerancia</li>
                        </ul>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <span class="faq-question-text">¿Sus productos han sido probados por terceros?</span>
                        <svg class="faq-arrow" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/>
                        </svg>
                    </div>
                    <div class="faq-answer">
                        <p>Sí, todos nuestros productos se someten a rigurosas pruebas externas de potencia, pureza y contaminantes. Nuestras fórmulas para intolerancias se someten a pruebas específicas para detectar alérgenos comunes y reactividad cruzada. Puedes encontrar los resultados detallados de las pruebas en la página de cada producto haciendo clic en el enlace «Certificado de análisis».</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <span class="faq-question-text">¿Cómo sé qué suplemento es el adecuado para mi intolerancia?</span>
                        <svg class="faq-arrow" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/>
                        </svg>
                    </div>
                    <div class="faq-answer">
                        <p>Ofrecemos una herramienta gratuita de evaluación en línea que ayuda a identificar qué suplementos podrían funcionar mejor para tus síntomas e intolerancias específicos. Además, nuestro equipo de nutrición ofrece consultas gratuitas para ayudarte a crear un plan de suplementos personalizado.</p>
                    </div>
                </div>
            </div>

            <!-- Uso y Dosificación -->
            <div class="faq-category animate-on-scroll">
                <h2 class="category-title">Uso y Dosificación</h2>
                <p class="category-description">
                    Cómo tomar nuestros suplementos de manera segura y efectiva.
                </p>

                <div class="faq-item">
                    <div class="faq-question">
                        <span class="faq-question-text">¿Cuándo debo tomar los suplementos para obtener mejores resultados?</span>
                        <svg class="faq-arrow" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/>
                        </svg>
                    </div>
                    <div class="faq-answer">
                        <p>El momento óptimo varía según el tipo de suplemento:</p>
                        <ul>
                            <li><strong>Enzimas digestivas:</strong> 15-30 minutos antes de las comidas</li>
                            <li><strong>Probióticos:</strong> Con el estómago vacío, preferiblemente por la mañana</li>
                            <li><strong>Suplementos antihistamínicos:</strong> Según las instrucciones específicas del producto</li>
                            <li><strong>Apoyo intestinal:</strong> Entre comidas para máxima absorción</li>
                        </ul>
                        <p>Siempre consulta las instrucciones específicas en el envase de cada producto.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <span class="faq-question-text">¿Puedo tomar varios suplementos al mismo tiempo?</span>
                        <svg class="faq-arrow" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/>
                        </svg>
                    </div>
                    <div class="faq-answer">
                        <p>En general, nuestros suplementos están diseñados para ser compatibles entre sí. Sin embargo, recomendamos:</p>
                        <ul>
                            <li>Comenzar con un suplemento a la vez para evaluar tu respuesta</li>
                            <li>Consultar con nuestro equipo de nutrición para combinaciones personalizadas</li>
                            <li>Informar a tu médico sobre todos los suplementos que tomas</li>
                            <li>Seguir las dosis recomendadas en cada producto</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Pedidos y Envíos -->
            <div class="faq-category animate-on-scroll">
                <h2 class="category-title">Pedidos y Envíos</h2>
                <p class="category-description">
                    Información sobre el proceso de compra, envío y entrega de tus productos.
                </p>

                <div class="faq-item">
                    <div class="faq-question">
                        <span class="faq-question-text">¿Cuánto tiempo tarda en llegar mi pedido?</span>
                        <svg class="faq-arrow" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/>
                        </svg>
                    </div>
                    <div class="faq-answer">
                        <p>Los tiempos de entrega dependen del método de envío seleccionado:</p>
                        <ul>
                            <li><strong>Envío estándar:</strong> 5-7 días laborables</li>
                            <li><strong>Envío express:</strong> 2-3 días laborables</li>
                            <li><strong>Envío prioritario:</strong> 1-2 días laborables</li>
                        </ul>
                        <p>Todos los pedidos se procesan dentro de 24-48 horas después de la confirmación del pago. Recibirás un número de seguimiento por email una vez que tu pedido sea enviado.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <span class="faq-question-text">¿Ofrecen envío gratuito?</span>
                        <svg class="faq-arrow" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/>
                        </svg>
                    </div>
                    <div class="faq-answer">
                        <p>Sí, ofrecemos envío gratuito en pedidos superiores a €50 dentro de España. Para pedidos internacionales, el envío gratuito se aplica a compras superiores a €100. Los miembros de nuestro programa de suscripción reciben envío gratuito en todos sus pedidos automáticos.</p>
                    </div>
                </div>
            </div>

            <!-- Políticas y Garantías -->
            <div class="faq-category animate-on-scroll">
                <h2 class="category-title">Políticas y Garantías</h2>
                <p class="category-description">
                    Nuestras políticas de devolución, garantías y compromiso con la satisfacción del cliente.
                </p>

                <div class="faq-item">
                    <div class="faq-question">
                        <span class="faq-question-text">¿Qué garantía ofrecen en sus productos?</span>
                        <svg class="faq-arrow" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/>
                        </svg>
                    </div>
                    <div class="faq-answer">
                        <p>Ofrecemos una garantía de satisfacción del 100% durante 60 días. Si no estás completamente satisfecho con tu compra, puedes devolver el producto para un reembolso completo, incluso si el envase está abierto. Esto te permite probar nuestros suplementos con confianza total.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <span class="faq-question-text">¿Cómo proceso una devolución?</span>
                        <svg class="faq-arrow" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/>
                        </svg>
                    </div>
                    <div class="faq-answer">
                        <p>Para procesar una devolución:</p>
                        <ul>
                            <li>Contacta nuestro servicio al cliente en support@ddfarma.com</li>
                            <li>Proporciona tu número de pedido y motivo de devolución</li>
                            <li>Recibirás una etiqueta de envío prepagada</li>
                            <li>Empaca el producto y envíalo usando la etiqueta proporcionada</li>
                            <li>El reembolso se procesará dentro de 5-7 días laborables después de recibir el producto</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Contact CTA Section -->
            <div class="contact-cta animate-on-scroll">
                <div class="cta-content">
                    <h2 class="cta-title">¿No encontraste lo que buscabas?</h2>
                    <p class="cta-subtitle">
                        Nuestro equipo de expertos en nutrición está aquí para ayudarte.
                        Contáctanos directamente para obtener asesoramiento personalizado sobre nuestros productos.
                    </p>
                    <a href="mailto:support@ddfarma.com" class="cta-button">
                        Contactar Soporte
                        <svg xmlns="http://www.w3.org/2000/svg" class="ml-2 h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd"/>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </section>
</div>

<script>
    // Enhanced page initialization
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize FAQ functionality
        initializeFAQ();

        // Initialize scroll animations
        initializeScrollAnimations();
    });

    // Enhanced FAQ functionality
    function initializeFAQ() {
        const faqQuestions = document.querySelectorAll('.faq-question');

        // Initialize - set first answer as active
        const firstArrow = document.querySelector('.faq-arrow');
        if (firstArrow) {
            firstArrow.classList.add('rotate');
        }

        faqQuestions.forEach((question, index) => {
            question.addEventListener('click', function() {
                const answer = this.nextElementSibling;
                const arrow = this.querySelector('.faq-arrow');
                const isActive = answer.classList.contains('active');

                // Close all other answers
                document.querySelectorAll('.faq-answer').forEach(ans => {
                    ans.classList.remove('active');
                });
                document.querySelectorAll('.faq-arrow').forEach(arr => {
                    arr.classList.remove('rotate');
                });

                // Toggle current answer
                if (!isActive) {
                    answer.classList.add('active');
                    arrow.classList.add('rotate');
                }
            });
        });
    }

    // Scroll-triggered animations
    function initializeScrollAnimations() {
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('in-view');
                }
            });
        }, observerOptions);

        // Observe all elements with animate-on-scroll class
        document.querySelectorAll('.animate-on-scroll').forEach(el => {
            observer.observe(el);
        });
    }
</script>
{% endblock %}